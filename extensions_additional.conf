#This file is a portion of what is generated by free pbx when configuring IVR
[ext-local]
include => ext-local-custom
exten => 668,1,Set(__RINGTIMER=${IF($["${DB(AMPUSER/668/ringtimer)}" > "0"]?${DB(AMPUSER/668/ringtimer)}:${RINGTIMER_DEFAULT})})
exten => 668,n,Macro(exten-vm,novm,668,0,0,0)
exten => 668,n(dest),Set(__PICKUPMARK=)
exten => 668,n,Goto(${IVR_CONTEXT},return,1)
exten => 668,hint,IAX2/668,CustomPresence:668

exten => 777,1,Set(__RINGTIMER=${IF($["${DB(AMPUSER/777/ringtimer)}" > "0"]?${DB(AMPUSER/777/ringtimer)}:${RINGTIMER_DEFAULT})})
exten => 777,n,Macro(exten-vm,novm,777,1,1,1)
exten => 777,n(dest),Set(__PICKUPMARK=)
exten => 777,n,GotoIf($["${DIALSTATUS}"="NOANSWER"]?ivr-1,s,1)
exten => 777,n,GotoIf($["${DIALSTATUS}"="BUSY"]?ivr-1,s,1)
exten => 777,n,GotoIf($["${DIALSTATUS}"="CHANUNAVAIL"]?ivr-1,s,1)
exten => 777,n,Goto(${IVR_CONTEXT},return,1)
exten => 777,hint,IAX2/777,CustomPresence:777

exten => 999,1,Set(__RINGTIMER=${IF($["${DB(AMPUSER/999/ringtimer)}" > "0"]?${DB(AMPUSER/999/ringtimer)}:${RINGTIMER_DEFAULT})})
exten => 999,n,Macro(exten-vm,novm,999,1,1,1)
exten => 999,n(dest),Set(__PICKUPMARK=)
exten => 999,n,GotoIf($["${DIALSTATUS}"="NOANSWER"]?ivr-2,s,1)
exten => 999,n,GotoIf($["${DIALSTATUS}"="BUSY"]?ivr-2,s,1)
exten => 999,n,GotoIf($["${DIALSTATUS}"="CHANUNAVAIL"]?ivr-2,s,1)
exten => 999,n,Goto(${IVR_CONTEXT},return,1)
exten => 999,hint,IAX2/999,CustomPresence:999

exten => vmret,1,GotoIf($["${IVR_RETVM}" = "RETURN" & "${IVR_CONTEXT}" != ""]?playret)
exten => vmret,n,Hangup
exten => vmret,n(playret),Playback(exited-vm-will-be-transfered&silence/1)
exten => vmret,n,Goto(${IVR_CONTEXT},return,1)

exten => h,1,Macro(hangupcall,)

exten => _*80X.,hint,${DB(AMPUSER/${EXTEN:3}/hint)}
;--== end of [ext-local] ==--;
